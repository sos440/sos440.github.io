---
layout: post
title: Existence of the limit of $\sum_{n=1}^{\infty} a_n \cos\left(\frac{x}{n}\right)$
date:   2024-10-18 00:21:00 +0900
categories: math
---

(This posting is a minor revision of [my answer in Math.StackExchange](https://math.stackexchange.com/questions/4984747/when-does-the-limit-lim-x-to-infty-sum-n-1-infty-a-n-cos-frac-x-n/4985057#4985057).)

Let $(a_n)_{n\geq 1}$ be a sequence of complex numbers, and consider the function $S(x)$ defined by

$$
\begin{equation*}
S(x) = \sum_{n=1}^{\infty} a_n \cos\left(\frac{x}{n}\right).
\end{equation*}
$$

This sum converges for all $x \in \mathbb{C}$ if and only if $\sum_{n=1}^{\infty} a_n$ converges, which we assume henceforce.

## Part 1

The first part of this post is devoted to an **elementary proof** of:

> **Theorem.** $S(x)$ converges as $x \to \infty$ if and only if $a_n = 0$ for all $n$.

*Proof.* Assume that $S(x)$ converges to some $A \in \mathbb{C}$ as $x \to \infty$. Define $R(x)$ by

$$ R(x) = \frac{2S(x) - S(x+2) - S(x-2)}{4}. $$

Then by invoking trigonometric identities, we get

$$
\begin{align*}
R(x) = \sum_{n=1}^{\infty} b_n \cos\left(\frac{x}{n}\right), \qquad b_n = a_n \sin^2\left(\frac{1}{n}\right).
\end{align*}
$$

Since the sum $\sum_{n=1}^{\infty} b_n$ converges absolutely, $R(x)$ converges absolutely and uniformly on $\mathbb{R}$. This allows us to write:

$$
\begin{align*}
\frac{1}{T} \int_{0}^{T} \lvert R(x)\rvert^2 \, \mathrm{d}x
&= \sum_{m,n \geq 1} b_m \overline{b_n} \cdot \frac{1}{T} \int_{0}^{T} \cos\left(\frac{x}{m}\right)\cos\left(\frac{x}{n}\right) \, \mathrm{d}x.
\end{align*}
$$

Now we focus on the integral

$$ I_{m,n}(T) = \frac{1}{T} \int_{0}^{T} \cos\left(\frac{x}{m}\right)\cos\left(\frac{x}{n}\right) \, \mathrm{d}x. $$

Clearly $\lvert I_{m,n}(T) \rvert \leq 1$. Moreover, it is easy to check that $I_{m,n}(T) \to \frac{1}{2}\delta_{m,n}$ as $T \to \infty$, where $\delta_{m,n} = \mathbf{1}[m = n]$ is the Kronecker delta. So by the dominated convergence theorem for series,

$$
\begin{align*}
\lim_{T\to\infty} \frac{1}{T} \int_{0}^{T} \lvert R(x) \rvert^2 \, \mathrm{d}x
&= \sum_{m,n \geq 1} b_m \overline{b_n} \cdot \lim_{T \to \infty} I_{m,n}(T) \\
&= \frac{1}{2} \sum_{n=1}^{\infty} \lvert b_n \rvert^2.
\end{align*}
$$

However, the assumption tells that $R(x) \to \frac{2A - A - A}{4} = 0$ as $x \to \infty$, hence

$$
\begin{align*}
\lim_{T\to\infty} \frac{1}{T} \int_{0}^{T} \lvert R(x) \rvert^2 \, \mathrm{d}x
&= 0.
\end{align*}
$$

Therefore $b_n = 0$ for all $n$, which then implies that $a_n = 0$ for all $n$.

## Part 2

In this second part, we show that $S(x)$ averages to zero in the long run:

> **Theorem.** Assume that $\sum_{n=1}^{\infty} a_n$ converges. Then
>
> $$ \lim_{T \to \infty} \frac{1}{T} \int_{0}^{T} S(x) \, \mathrm{d}x = 0. $$

*Sketch of Proof.* Let $\operatorname{sinc}(x) = \frac{\sin x}{x}$ denote the sinc function. Also, let $T_n = \sum_{k=n}^{\infty} a_k$ denote the tail series. Then we can check that

$$ \frac{1}{T} \int_{0}^{T} S(x) \, \mathrm{d}x
= \sum_{n=0}^{\infty} T_n p_n(T), $$

where $p_n(T)$ is defined by

$$ p_n(T) = \operatorname{sinc}\left(\frac{T}{n+1}\right) - \operatorname{sinc}\left(\frac{T}{n}\right). $$

Now we list the key properties of the sequence $(p_n(T))_{n\geq 1}$ that are relevant to the proof:

1. $\sup_{T\geq 1} \sum_{n=1}^{\infty} \lvert p_n(T) \rvert < \infty$.
2. $\sum_{n=1}^{\infty} p_n(T) \to 1$ as $T \to \infty$.
3. $\sum_{n=1}^{N} p_n(T) \to 0$ as $T \to \infty$, for each fixed $N \geq 1$.

Item 2 and 3 are easy to prove, whereas Item 1 is somewhat trickier. Indeed, its proof hinges on the following inequality:

$$
\lvert p_n(T) \rvert \leq \min\left\{ \frac{2}{n+1}, \frac{2(n+1)}{T} \right\}.
$$

Then Item 1 can be established by splitting the sum into:

$$
\sum_{n=1}^{\infty} \lvert p_n(T) \rvert
= \sum_{n < \sqrt{T}} \lvert p_n(T) \rvert + \sum_{\sqrt{T} \leq n < T} \lvert p_n(T) \rvert + \sum_{n \geq T} \lvert p_n(T) \rvert.
$$

Now, Item 1, 2, and 3 tells that $\sum_{n=1}^{\infty} T_n p_n(T)$ behaves like an "average" of $T_n$ for large $T$, which is $0$ in this case. Indeed, invoking the standard argument, we can prove that

$$
\lim_{T\to\infty} \sum_{n=1}^{\infty} T_n p_n(T)
= \lim_{n\to\infty} T_n = 0.
$$

Therefore the desired claim follows.
